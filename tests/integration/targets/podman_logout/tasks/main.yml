- name: Test podman_logout
  block:

    - name: Print podman version
      command: podman version

    - name: Log out of non-existing registry
      containers.podman.podman_logout:
      register: non_existing_registry

    - name: Check results
      assert:
        that:
          - "'changed' in non_existing_registry"
          - "non_existing_registry.changed == False"

    - name: Log out of all registries
      containers.podman.podman_logout:
        all: yes
      register: all_registries

    - name: Check results
      assert:
        that:
          - "'changed' in all_registries"
          - "all_registries.changed == True"
